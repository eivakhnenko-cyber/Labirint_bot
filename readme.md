1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º
1.1 –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
manage_catalog() - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º

browse_catalog() - –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

browse_catalog_for_selection() - –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ –¥–ª—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏

handle_catalog_selection() - –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞

show_products_by_category() - –ü–æ–∫–∞–∑–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤—ã–±—Ä–∞–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

1.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
add_to_catalog() - –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

process_catalog_addition() - –ü–æ—à–∞–≥–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

save_to_catalog() - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

1.3 –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
del_item_catalog() - –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

process_catalog_deletion() - –ü–æ—à–∞–≥–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É–¥–∞–ª–µ–Ω–∏—è

delete_single_product() - –£–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ç–æ–≤–∞—Ä–∞

delete_all_category_products() - –£–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

1.4 –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤
edit_catalog_item() - –ù–∞—á–∞–ª–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

process_edit_catalog() - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

show_product_for_editing() - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1.5 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏
edit_catalog_category() - –ò–∑–º–µ–Ω–µ–Ω–∏–µ/–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

process_edit_category() - –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

2. –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (—Ä–∞–±–æ—Ç–∞ —Å –ë–î)
2.1 –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
get_active_categories() - –ü–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

get_category_products() - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

get_all_categories_with_counts() - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —Ç–æ–≤–∞—Ä–æ–≤

get_product_by_id() - –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä –ø–æ ID

search_products() - –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–æ–ø–∏—Å–∞–Ω–∏—é

2.2 –ü—Ä–æ–≤–µ—Ä–∫–∏
check_category_exists() - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

check_product_name_exists() - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è

2.3 –°–æ–∑–¥–∞–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
add_product() - –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∫–∞—Ç–∞–ª–æ–≥

update_product() - –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ

update_category() - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

2.4 –£–¥–∞–ª–µ–Ω–∏–µ
soft_delete_product() - –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ (is_active = 0)

soft_delete_category_products() - –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–≤–∞—Ä–æ–≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

3. –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
3.1 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
get_catalog_keyboard() - –ú–µ–Ω—é —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º

get_inventory_keyboard() - –ú–µ–Ω—é –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏

get_cancel_keyboard() - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ—Ç–º–µ–Ω—ã

3.2 –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
get_categories_keyboard() - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

get_products_by_category_keyboard() - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

get_units_keyboard() - –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è

4. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É Telegram
4.1 –ö–æ–º–∞–Ω–¥—ã –º–µ–Ω—é
text
üìã –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–º ‚Üí manage_catalog()
‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä ‚Üí add_to_catalog()
‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–≤–∞—Ä ‚Üí edit_catalog_item()
üîÑ –ò–∑–º–µ–Ω–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é ‚Üí edit_catalog_category()
üóëÔ∏è –£–¥–∞–ª–∏—Ç—å —Ç–æ–≤–∞—Ä ‚Üí del_item_catalog()
üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Ç–∞–ª–æ–≥ ‚Üí browse_catalog()
4.2 –ü—Ä–æ—Ü–µ—Å—Å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
text
–¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ (—à–∞–≥ 1) ‚Üí process_catalog_addition()
–¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ (—à–∞–≥ 2) ‚Üí process_catalog_deletion()
–¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ (—à–∞–≥ 3) ‚Üí process_edit_catalog()
–¢–µ–∫—Å—Ç–æ–≤—ã–π –≤–≤–æ–¥ (—à–∞–≥ 4) ‚Üí process_edit_category()
4.3 –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–Ω–æ–ø–æ–∫
text
–ö–Ω–æ–ø–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π ‚Üí show_products_by_category()
–ö–Ω–æ–ø–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤ ‚Üí handle_catalog_selection()
–ö–Ω–æ–ø–∫–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è ‚Üí delete_single_product() / save_to_catalog()
–ö–Ω–æ–ø–∫–∞ "–û—Ç–º–µ–Ω–∞" ‚Üí –£–¥–∞–ª–µ–Ω–∏–µ context.user_data
5. –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (user_data)
5.1 –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
python
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
context.user_data['adding_to_catalog'] = {
    'step': 'category/name/unit/...',
    'data': {...}
}

# –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
context.user_data['deleting_from_catalog'] = {
    'step': 'category/select_product/...',
    'data': {...}
}

# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞
context.user_data['editing_catalog'] = {
    'step': 'search/select_field/...',
    'data': {...}
}

# –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
context.user_data['editing_category'] = {
    'step': 'select_old/enter_new/confirm',
    'data': {...}
}

# –í—ã–±–æ—Ä –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞
context.user_data['selecting_from_catalog'] = True
context.user_data['catalog_products'] = [...]
context.user_data['selected_category'] = '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'
6. –†–æ–ª–µ–≤–æ–π –¥–æ—Å—Ç—É–ø (permissions)
6.1 –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
python
Permission.MANAGE_INVENTORY  # –ü–æ–ª–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º
Permission.VIEW_INVENTORY    # –ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Ç–∞–ª–æ–≥–∞
Permission.CONFIRM_INVENTORY # –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏
6.2 –ü—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
python
role_manager.has_permission(user_id, Permission.MANAGE_INVENTORY)
role_manager.has_permission(user_id, Permission.VIEW_INVENTORY)
7. –õ–æ–≥–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
7.1 –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
category ‚Üí –í–≤–æ–¥ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

name ‚Üí –í–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è (—Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏)

unit ‚Üí –í—ã–±–æ—Ä –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è

default_quantity ‚Üí –í–≤–æ–¥ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

description ‚Üí –í–≤–æ–¥ –æ–ø–∏—Å–∞–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

confirm ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

7.2 –ü—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
category ‚Üí –í—ã–±–æ—Ä –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

select_product ‚Üí –í—ã–±–æ—Ä —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ "–£–¥–∞–ª–∏—Ç—å –≤—Å–µ"

confirm_single ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞

confirm_all ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

7.3 –ü—Ä–æ—Ü–µ—Å—Å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞
search ‚Üí –ü–æ–∏—Å–∫ —Ç–æ–≤–∞—Ä–∞

select_product ‚Üí –í—ã–±–æ—Ä –∏–∑ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö

select_field ‚Üí –í—ã–±–æ—Ä –ø–æ–ª—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

edit_* ‚Üí –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è

7.4 –ü—Ä–æ—Ü–µ—Å—Å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
select_old ‚Üí –í—ã–±–æ—Ä —Ç–µ–∫—É—â–µ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

enter_new ‚Üí –í–≤–æ–¥ –Ω–æ–≤–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è

confirm ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è:

–°–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ù–∞–ø–∏—Å–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤

–ü–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å—Ö–µ–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏